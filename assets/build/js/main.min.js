"use strict";

function Accordions() {
  this.imgPath = "/wp-content/themes/longpoint/assets/images/", this.$accordionTitle = $(".accordion-title"), this.openFirst(), this.toggleOpenClose()
}

function AngleWidthAnimation(t) {
  this.$angledSection = $(t), this.fullWidth(), this.winMiddle = $(window).height() / 2
}

function LPApp() {
  this.$window = $(window), this.menu = new Menu, this.handleWindowScroll(), this.handleWindowResize(), this.team = new Team, this.heroBg = document.getElementById("js-img-height"), this.heroBg && (this.heroHeight = new HeroHeight(this.heroBg)), document.getElementById("text-intro") && (this.textAnimate = new TextAnimate(NavAnimate)), this.accordions = new Accordions, this.preFooter = document.getElementById("js-pf-fadeUp"), this.preFooterAnimation = new PreFooterAnimation(this.preFooter), this.stats = $(".stats"), this.stats.length > 0 && (this.statsAnimation = new StatsAnimation(this.stats, this.preFooterAnimation)), this.selector = document.getElementById("feature-category-select"), this.selector && (this.featureCategorySelect = new FeatureCategorySelect), this.anim(), this.confirmationMsgElem = document.getElementById("gform_confirmation_wrapper_1"), this.emptySearchMsg = document.getElementsByClassName("search-results-empty-message"), (this.confirmationMsgElem || this.emptySearchMsg) && (this.formSubmitScrollTo = new FormSubmitScrollTo(this.confirmationMsgElem, this.emptySearchMsg))
  // window.location.hash && $("html, body").animate({
  //   scrollTop: $(window.location.hash).offset().top - 225
  // }, 400)
}

function FeatureCategorySelect() {
  this.featureCategorySelectDropdown = document.getElementById("feature-category-select"), this.onCategoryChange(), this.setDropdownValue(window.location.href.split("=")[1])
}

function FormSubmitScrollTo(t, e) {
  this.confirmationMsgElem = t, this.emptySearchMsg = e;
  var n = window.location.pathname,
    i = this;
  "/contact-us/" === n && this.confirmationMsgElem && setTimeout(function() {
    i.scrollToTop()
  }, 200), "/contact-us/" === n && $(".validation_error").length > 0 && setTimeout(function() {
    i.validationErrorScroll()
  }, 200), this.emptySearchMsg.length > 0 && this.emptySearchScroll()
}

function HeroHeight(t) {
  this.heroBg = t, this.heroImgHeight = this.heroBg.clientHeight, this.setHeroHeight()
}

function Menu() {
  this.$window = $(window), this.$nav = $(".navbar-fixed-top"), this.$mobileBar = this.$nav.find(".container-fluid"), this.$shaded = $(".shaded"), this.toggleMobileMenu()
}

function NavAnimate() {
  this.nav = document.getElementById("nav"), this.slideInNav()
}

function PreFooterAnimation(t) {
  this.preFooter = $(t)
}

function StatsAnimation(t, e) {
  this.statsContainer = t, this.singleStatItemWrapper = this.statsContainer.find("li"), this.preFooterAnim = e
}

function Team() {
  this.$closeTeamBioBtn = $(".team-close"), this.$openTeamBioBtn = $(".team-modal-open"), this.$nav = $(".navbar"), this.$body = $("body"), this.$team = $(".team"), this.openModal(), this.closeModal()
}

function TextAnimate(t) {
  var e = this;
  this.textToAnimate = document.getElementById("text-intro"), this.secondary = document.querySelector(".hero-secondary"), this.splitIntoWords(), setTimeout(function() {
    e.fadeIn(e.secondaryFade)
  }, 500), this.navAnimate = new t
}
Accordions.prototype.toggleOpenClose = function() {
    var t = this;
    this.$accordionTitle.on("click", function(e) {
      var n = $(e.target);
      n.hasClass("open") ? (n.removeClass("open").siblings().slideUp(200), $(this).find("div").toggleClass("minus"), $(".accordion-plus-minus") && $(this).find(".accordion-plus-minus").attr("src", t.imgPath + "icon-plus-lightblue.svg")) : (n.addClass("open").siblings().slideDown(200), $(this).find("div").toggleClass("minus"), $(".accordion-plus-minus") && $(this).find(".accordion-plus-minus").attr("src", t.imgPath + "icon-minus-lightblue.svg"))
    })
  }, Accordions.prototype.openFirst = function() {
    $(".accordion-container li:first").children().addClass("open").show().prev("a").addClass("open").find("div").addClass("minus"), $(".accordion-plus-minus") && $(".accordion-container li:first").find(".accordion-plus-minus").attr("src", this.imgPath + "icon-minus-lightblue.svg"), $(".accordion-item") && ($(".accordion-item:first").find(".accordion-content").show().prev().addClass("open"), $(".accordion-item:first").find(".accordion-plus-minus").attr("src", this.imgPath + "icon-minus-lightblue.svg"))
  }, AngleWidthAnimation.prototype.fullWidth = function() {
    var t = this;
    this.isInViewport(this.$angledSection) && (this.$angledSection.addClass("width1"), setTimeout(function() {
      t.$angledSection.addClass("width2"), $(".blockquote-copy").addClass("showing-bquote")
    }, 700))
  }, AngleWidthAnimation.prototype.isInViewport = function(t) {
    var e = t.offset().top + this.winMiddle,
      n = e + t.outerHeight(),
      i = $(window).scrollTop(),
      o = i + $(window).height();
    return n > i && e < o
  },
  function(t) {
    "function" == typeof define && define.amd ? define(["jquery"], t) : "object" == typeof exports ? module.exports = t(require("jquery")) : t(jQuery)
  }(function(t) {
    var e = "animsition",
      n = {
        init: function(i) {
          i = t.extend({
            inClass: "fade-in",
            outClass: "fade-out",
            inDuration: 1500,
            outDuration: 800,
            linkElement: ".animsition-link",
            loading: !0,
            loadingParentElement: "body",
            loadingClass: "animsition-loading",
            loadingInner: "",
            timeout: !1,
            timeoutCountdown: 5e3,
            onLoadEvent: !0,
            browser: ["animation-duration", "-webkit-animation-duration"],
            overlay: !1,
            overlayClass: "animsition-overlay-slide",
            overlayParentElement: "body",
            transition: function(t) {
              window.location.href = t
            }
          }, i), n.settings = {
            timer: !1,
            data: {
              inClass: "animsition-in-class",
              inDuration: "animsition-in-duration",
              outClass: "animsition-out-class",
              outDuration: "animsition-out-duration",
              overlay: "animsition-overlay"
            },
            events: {
              inStart: "animsition.inStart",
              inEnd: "animsition.inEnd",
              outStart: "animsition.outStart",
              outEnd: "animsition.outEnd"
            }
          };
          var o = n.supportCheck.call(this, i);
          return o || !(i.browser.length > 0) || o && this.length ? (n.optionCheck.call(this, i) && t("." + i.overlayClass).length <= 0 && n.addOverlay.call(this, i), i.loading && t("." + i.loadingClass).length <= 0 && n.addLoading.call(this, i), this.each(function() {
            var o = this,
              s = t(this),
              r = t(window),
              a = t(document);
            s.data(e) || (i = t.extend({}, i), s.data(e, {
              options: i
            }), i.timeout && n.addTimer.call(o), i.onLoadEvent && r.on("load." + e, function() {
              n.settings.timer && clearTimeout(n.settings.timer), n.in.call(o)
            }), r.on("pageshow." + e, function(t) {
              t.originalEvent.persisted && n.in.call(o)
            }), r.on("unload." + e, function() {}), a.on("click." + e, i.linkElement, function(e) {
              e.preventDefault();
              var i = t(this),
                s = i.attr("href");
              2 === e.which || e.metaKey || e.shiftKey || -1 !== navigator.platform.toUpperCase().indexOf("WIN") && e.ctrlKey ? window.open(s, "_blank") : n.out.call(o, i, s)
            }))
          })) : ("console" in window || (window.console = {}, window.console.log = function(t) {
            return t
          }), this.length || console.log("Animsition: Element does not exist on page."), o || console.log("Animsition: Does not support this browser."), n.destroy.call(this))
        },
        addOverlay: function(e) {
          t(e.overlayParentElement).prepend('<div class="' + e.overlayClass + '"></div>')
        },
        addLoading: function(e) {
          t(e.loadingParentElement).append('<div class="' + e.loadingClass + '">' + e.loadingInner + "</div>")
        },
        removeLoading: function() {
          var n = t(this),
            i = n.data(e).options;
          t(i.loadingParentElement).children("." + i.loadingClass).fadeOut().remove()
        },
        addTimer: function() {
          var i = this,
            o = t(this),
            s = o.data(e).options;
          n.settings.timer = setTimeout(function() {
            n.in.call(i), t(window).off("load." + e)
          }, s.timeoutCountdown)
        },
        supportCheck: function(e) {
          var n = t(this),
            i = e.browser,
            o = i.length,
            s = !1;
          0 === o && (s = !0);
          for (var r = 0; o > r; r++)
            if ("string" == typeof n.css(i[r])) {
              s = !0;
              break
            } return s
        },
        optionCheck: function(e) {
          var i = t(this);
          return !(!e.overlay && !i.data(n.settings.data.overlay))
        },
        animationCheck: function(n, i, o) {
          var s = t(this),
            r = s.data(e).options,
            a = typeof n,
            l = !i && "number" === a,
            c = i && "string" === a && n.length > 0;
          return l || c ? n = n : i && o ? n = r.inClass : !i && o ? n = r.inDuration : i && !o ? n = r.outClass : i || o || (n = r.outDuration), n
        },
        in: function() {
          var i = this,
            o = t(this),
            s = o.data(e).options,
            r = o.data(n.settings.data.inDuration),
            a = o.data(n.settings.data.inClass),
            l = n.animationCheck.call(i, r, !1, !0),
            c = n.animationCheck.call(i, a, !0, !0),
            d = n.optionCheck.call(i, s),
            u = o.data(e).outClass;
          s.loading && n.removeLoading.call(i), u && o.removeClass(u), d ? n.inOverlay.call(i, c, l) : n.inDefault.call(i, c, l)
        },
        inDefault: function(e, i) {
          var o = t(this);
          o.css({
            "animation-duration": i + "ms"
          }).addClass(e).trigger(n.settings.events.inStart).animateCallback(function() {
            o.removeClass(e).css({
              opacity: 1
            }).trigger(n.settings.events.inEnd)
          })
        },
        inOverlay: function(i, o) {
          var s = t(this),
            r = s.data(e).options;
          s.css({
            opacity: 1
          }).trigger(n.settings.events.inStart), t(r.overlayParentElement).children("." + r.overlayClass).css({
            "animation-duration": o + "ms"
          }).addClass(i).animateCallback(function() {
            s.trigger(n.settings.events.inEnd)
          })
        },
        out: function(i, o) {
          var s = this,
            r = t(this),
            a = r.data(e).options,
            l = i.data(n.settings.data.outClass),
            c = r.data(n.settings.data.outClass),
            d = i.data(n.settings.data.outDuration),
            u = r.data(n.settings.data.outDuration),
            h = l || c,
            f = d || u,
            p = n.animationCheck.call(s, h, !0, !1),
            m = n.animationCheck.call(s, f, !1, !1),
            g = n.optionCheck.call(s, a);
          r.data(e).outClass = p, g ? n.outOverlay.call(s, p, m, o) : n.outDefault.call(s, p, m, o)
        },
        outDefault: function(i, o, s) {
          var r = t(this),
            a = r.data(e).options;
          r.css({
            "animation-duration": o + 1 + "ms"
          }).addClass(i).trigger(n.settings.events.outStart).animateCallback(function() {
            r.trigger(n.settings.events.outEnd), a.transition(s)
          })
        },
        outOverlay: function(i, o, s) {
          var r = this,
            a = t(this),
            l = a.data(e).options,
            c = a.data(n.settings.data.inClass),
            d = n.animationCheck.call(r, c, !0, !0);
          t(l.overlayParentElement).children("." + l.overlayClass).css({
            "animation-duration": o + 1 + "ms"
          }).removeClass(d).addClass(i).trigger(n.settings.events.outStart).animateCallback(function() {
            a.trigger(n.settings.events.outEnd), l.transition(s)
          })
        },
        destroy: function() {
          return this.each(function() {
            var n = t(this);
            t(window).off("." + e), n.css({
              opacity: 1
            }).removeData(e)
          })
        }
      };
    t.fn.animateCallback = function(e) {
      var n = "animationend webkitAnimationEnd";
      return this.each(function() {
        var i = t(this);
        i.on(n, function() {
          return i.off(n), e.call(this)
        })
      })
    }, t.fn.animsition = function(i) {
      return n[i] ? n[i].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof i && i ? void t.error("Method " + i + " does not exist on jQuery." + e) : n.init.apply(this, arguments)
    }
  }), LPApp.prototype.handleWindowScroll = function() {
    var t = this;
    $('.animsition').scroll(function() {
      //console.log("scroll");
      t.$window.width() >= 832 ? (t.menu.mobileNavBg(), t.preFooter && t.preFooterAnimation.slideIntoView()) : t.menu.mobileNavBg(), t.stats.length > 0 && t.statsAnimation.slideUp()
    })
  }, LPApp.prototype.handleWindowResize = function() {
    var t = this;
    this.$window.on("resize", function() {
      t.$window.width() <= 1e3 && t.heroHeight.setHeroHeight()
    })
  }, LPApp.prototype.anim = function() {
    $(".animsition").animsition({
      inClass: "fade-in",
      outClass: "fade-out",
      inDuration: 350,
      outDuration: 350,
      linkElement: ".animsition-link",
      loading: !0,
      loadingParentElement: "body",
      loadingClass: "animsition-loading",
      loadingInner: "",
      timeout: !1,
      timeoutCountdown: 5e3,
      onLoadEvent: !0,
      browser: ["animation-duration", "-webkit-animation-duration"],
      overlay: !1,
      transition: function(t) {
        window.location.href = t
      }
    })
  }, FeatureCategorySelect.prototype.onCategoryChange = function() {
    var t = this;
    this.featureCategorySelectDropdown.addEventListener("change", function() {
      if ("category" === this.options[this.selectedIndex].value) window.location.href = window.location.protocol + "//" + window.location.hostname + window.location.pathname, this.selectedIndex = 0;
      else {
        var e = this.options[this.selectedIndex].value;
        t.buildUrlAndRedirect(e)
      }
    })
  }, FeatureCategorySelect.prototype.buildUrlAndRedirect = function(t) {
    var e = window.location.protocol + "//" + window.location.hostname + window.location.pathname + "?filter=" + t;
    this.redirectOnChange(e)
  }, FeatureCategorySelect.prototype.redirectOnChange = function(t) {
    window.location.href = t
  }, FeatureCategorySelect.prototype.setDropdownValue = function(t) {
    "category" == t || void 0 == t ? this.featureCategorySelectDropdown.selectedIndex = 0 : this.featureCategorySelectDropdown.value = t
  }, FormSubmitScrollTo.prototype.scrollToTop = function() {
    this.confirmationMsgElem && $("html, body").animate({
      scrollTop: $(this.confirmationMsgElem).offset().top - 200
    })
  }, FormSubmitScrollTo.prototype.validationErrorScroll = function() {
    if ($(".validation_error").length > 0) {
      $("html, body").animate({
        scrollTop: $(".validation_error").offset().top - 200
      })
    }
  }, FormSubmitScrollTo.prototype.emptySearchScroll = function() {
    $("html, body").animate({
      scrollTop: $(this.emptySearchMsg).offset().top - 300
    })
  }, HeroHeight.prototype.setHeroHeight = function() {
    this.containerHeight = document.getElementById("js-hero-height").clientHeight, $(".less-height").length && (this.heroBg.style.height = this.containerHeight + "px"), $(window).width() <= 832 ? this.heroBg.style.height = this.containerHeight + 120 + "px" : this.heroBg.style.height = this.containerHeight + 50 + "px"
  }, Menu.prototype.toggleMobileMenu = function() {
    var t = $("[data-toggle=collapse-side]"),
      e = t.attr("data-target"),
      n = t.attr("data-target-2"),
      i = this;
    t.click(function(t) {
      $(e).toggleClass("in"), $(n).toggleClass("out"), $("body").toggleClass("locked"), i.$shaded.toggleClass("hidden")
    })
  }, Menu.prototype.mobileNavBg = function() {
    $('.animsition').scrollTop() > 50 ? (this.$shaded.css("opacity", 1), this.$mobileBar.css("background-color", "transparent")) : (this.$shaded.css("opacity", 0), this.$mobileBar.css("background-color", "transparent"))
  },
  function(t, e, n) {
    function i(t, e) {
      return typeof t === e
    }

    function o(t) {
      var e = S.className,
        n = E._config.classPrefix || "";
      if (A && (e = e.baseVal), E._config.enableJSClass) {
        var i = new RegExp("(^|\\s)" + n + "no-js(\\s|$)");
        e = e.replace(i, "$1" + n + "js$2")
      }
      E._config.enableClasses && (e += " " + n + t.join(" " + n), A ? S.className.baseVal = e : S.className = e)
    }

    function s(t, e) {
      if ("object" == typeof t)
        for (var n in t) $(t, n) && s(n, t[n]);
      else {
        t = t.toLowerCase();
        var i = t.split("."),
          r = E[i[0]];
        if (2 == i.length && (r = r[i[1]]), void 0 !== r) return E;
        e = "function" == typeof e ? e() : e, 1 == i.length ? E[i[0]] = e : (!E[i[0]] || E[i[0]] instanceof Boolean || (E[i[0]] = new Boolean(E[i[0]])), E[i[0]][i[1]] = e), o([(e && 0 != e ? "" : "no-") + i.join("-")]), E._trigger(t, e)
      }
      return E
    }

    function r(t, e) {
      return !!~("" + t).indexOf(e)
    }

    function a() {
      return "function" != typeof e.createElement ? e.createElement(arguments[0]) : A ? e.createElementNS.call(e, "http://www.w3.org/2000/svg", arguments[0]) : e.createElement.apply(e, arguments)
    }

    function l(t) {
      return t.replace(/([a-z])-([a-z])/g, function(t, e, n) {
        return e + n.toUpperCase()
      }).replace(/^-/, "")
    }

    function c(t, e) {
      return function() {
        return t.apply(e, arguments)
      }
    }

    function d(t, e, n) {
      var o;
      for (var s in t)
        if (t[s] in e) return !1 === n ? t[s] : (o = e[t[s]], i(o, "function") ? c(o, n || e) : o);
      return !1
    }

    function u(t) {
      return t.replace(/([A-Z])/g, function(t, e) {
        return "-" + e.toLowerCase()
      }).replace(/^ms-/, "-ms-")
    }

    function h(e, n, i) {
      var o;
      if ("getComputedStyle" in t) {
        o = getComputedStyle.call(t, e, n);
        var s = t.console;
        if (null !== o) i && (o = o.getPropertyValue(i));
        else if (s) {
          var r = s.error ? "error" : "log";
          s[r].call(s, "getComputedStyle returning null, its possible modernizr test results are inaccurate")
        }
      } else o = !n && e.currentStyle && e.currentStyle[i];
      return o
    }

    function f() {
      var t = e.body;
      return t || (t = a(A ? "svg" : "body"), t.fake = !0), t
    }

    function p(t, n, i, o) {
      var s, r, l, c, d = "modernizr",
        u = a("div"),
        h = f();
      if (parseInt(i, 10))
        for (; i--;) l = a("div"), l.id = o ? o[i] : d + (i + 1), u.appendChild(l);
      return s = a("style"), s.type = "text/css", s.id = "s" + d, (h.fake ? h : u).appendChild(s), h.appendChild(u), s.styleSheet ? s.styleSheet.cssText = t : s.appendChild(e.createTextNode(t)), u.id = d, h.fake && (h.style.background = "", h.style.overflow = "hidden", c = S.style.overflow, S.style.overflow = "hidden", S.appendChild(h)), r = n(u, t), h.fake ? (h.parentNode.removeChild(h), S.style.overflow = c, S.offsetHeight) : u.parentNode.removeChild(u), !!r
    }

    function m(e, i) {
      var o = e.length;
      if ("CSS" in t && "supports" in t.CSS) {
        for (; o--;)
          if (t.CSS.supports(u(e[o]), i)) return !0;
        return !1
      }
      if ("CSSSupportsRule" in t) {
        for (var s = []; o--;) s.push("(" + u(e[o]) + ":" + i + ")");
        return s = s.join(" or "), p("@supports (" + s + ") { #modernizr { position: absolute; } }", function(t) {
          return "absolute" == h(t, null, "position")
        })
      }
      return n
    }

    function g(t, e, o, s) {
      function c() {
        u && (delete P.style, delete P.modElem)
      }
      if (s = !i(s, "undefined") && s, !i(o, "undefined")) {
        var d = m(t, o);
        if (!i(d, "undefined")) return d
      }
      for (var u, h, f, p, g, v = ["modernizr", "tspan", "samp"]; !P.style && v.length;) u = !0, P.modElem = a(v.shift()), P.style = P.modElem.style;
      for (f = t.length, h = 0; f > h; h++)
        if (p = t[h], g = P.style[p], r(p, "-") && (p = l(p)), P.style[p] !== n) {
          if (s || i(o, "undefined")) return c(), "pfx" != e || p;
          try {
            P.style[p] = o
          } catch (t) {}
          if (P.style[p] != g) return c(), "pfx" != e || p
        } return c(), !1
    }

    function v(t, e, n, o, s) {
      var r = t.charAt(0).toUpperCase() + t.slice(1),
        a = (t + " " + L.join(r + " ") + r).split(" ");
      return i(e, "string") || i(e, "undefined") ? g(a, e, o, s) : (a = (t + " " + k.join(r + " ") + r).split(" "), d(a, e, n))
    }

    function y(t, e, i) {
      return v(t, n, n, e, i)
    }
    var w = [],
      C = [],
      b = {
        _version: "3.5.0",
        _config: {
          classPrefix: "yes-",
          enableClasses: !0,
          enableJSClass: !0,
          usePrefixes: !0
        },
        _q: [],
        on: function(t, e) {
          var n = this;
          setTimeout(function() {
            e(n[t])
          }, 0)
        },
        addTest: function(t, e, n) {
          C.push({
            name: t,
            fn: e,
            options: n
          })
        },
        addAsyncTest: function(t) {
          C.push({
            name: null,
            fn: t
          })
        }
      },
      E = function() {};
    E.prototype = b, E = new E;
    var $, S = e.documentElement,
      A = "svg" === S.nodeName.toLowerCase();
    ! function() {
      var t = {}.hasOwnProperty;
      $ = i(t, "undefined") || i(t.call, "undefined") ? function(t, e) {
        return e in t && i(t.constructor.prototype[e], "undefined")
      } : function(e, n) {
        return t.call(e, n)
      }
    }(), b._l = {}, b.on = function(t, e) {
      this._l[t] || (this._l[t] = []), this._l[t].push(e), E.hasOwnProperty(t) && setTimeout(function() {
        E._trigger(t, E[t])
      }, 0)
    }, b._trigger = function(t, e) {
      if (this._l[t]) {
        var n = this._l[t];
        setTimeout(function() {
          var t;
          for (t = 0; t < n.length; t++)(0, n[t])(e)
        }, 0), delete this._l[t]
      }
    }, E._q.push(function() {
      b.addTest = s
    });
    var T = "Moz O ms Webkit",
      L = b._config.usePrefixes ? T.split(" ") : [];
    b._cssomPrefixes = L;
    var k = b._config.usePrefixes ? T.toLowerCase().split(" ") : [];
    b._domPrefixes = k;
    var x = {
      elem: a("modernizr")
    };
    E._q.push(function() {
      delete x.elem
    });
    var P = {
      style: x.elem.style
    };
    E._q.unshift(function() {
        delete P.style
      }), b.testAllProps = v, b.testAllProps = y, E.addTest("backgroundcliptext", function() {
        return y("backgroundClip", "text")
      }),
      function() {
        var t, e, n, o, s, r, a;
        for (var l in C)
          if (C.hasOwnProperty(l)) {
            if (t = [], e = C[l], e.name && (t.push(e.name.toLowerCase()), e.options && e.options.aliases && e.options.aliases.length))
              for (n = 0; n < e.options.aliases.length; n++) t.push(e.options.aliases[n].toLowerCase());
            for (o = i(e.fn, "function") ? e.fn() : e.fn, s = 0; s < t.length; s++) r = t[s], a = r.split("."), 1 === a.length ? E[a[0]] = o : (!E[a[0]] || E[a[0]] instanceof Boolean || (E[a[0]] = new Boolean(E[a[0]])), E[a[0]][a[1]] = o), w.push((o ? "" : "no-") + a.join("-"))
          }
      }(), o(w), delete b.addTest, delete b.addAsyncTest;
    for (var I = 0; I < E._q.length; I++) E._q[I]();
    t.Modernizr = E
  }(window, document), NavAnimate.prototype.slideInNav = function() {
    this.nav.classList.add("nav-show")
  }, PreFooterAnimation.prototype.slideIntoView = function() {
    this.isInViewport(this.preFooter) && this.preFooter.addClass("pf-fadeIn")
  }, PreFooterAnimation.prototype.isInViewport = function(t) {
    var e = t.offset().top + 200,
      n = e + t.outerHeight(),
      i = $(window).scrollTop(),
      o = i + $(window).height();
    return n > i && e < o
  }, StatsAnimation.prototype.slideUp = function() {
    this.preFooterAnim.isInViewport(this.statsContainer) && this.singleStatItemWrapper.each(function(t) {
      var e = $(this);
      setTimeout(function() {
        e.children(".big-num").addClass("stats-in-up"), e.children("p").addClass("stats-in-up2").addClass("stats-in-up")
      }, 500 * t)
    })
  }, Team.prototype.openModal = function() {
    var t = this;
    this.$openTeamBioBtn.on("click", function(e) {
      e.preventDefault();
      var n = $("#" + e.currentTarget.rel);
      t.$body.addClass("overflow-hidden"), t.$teamModal = n, t.$teamModal.fadeIn(300), t.$nav.addClass("nav-z"), t.$team.css("z-index", 5)
    })
  }, Team.prototype.closeModal = function() {
    var t = this;
    var close = function(e){
      e.preventDefault(), t.$body.removeClass("overflow-hidden"), t.$teamModal.fadeOut(300), t.$nav.removeClass("nav-z"), t.$team.css("z-index", 1)
    }
    this.$closeTeamBioBtn.on("click", close);
    $('.team-overlay-shader').on("click", close);
  }, TextAnimate.prototype.fadeIn = function(t) {
    for (var e = this, n = document.querySelectorAll(".text-elem"), i = n.length, o = 0; o < n.length; o++) ! function(o) {
      setTimeout(function() {
        n[o].classList.add("text-show"), 0 === --i && e.secondary && t(e.secondary)
      }, 120 * o)
    }(o)
  }, TextAnimate.prototype.splitIntoWords = function() {
    var t = this.textToAnimate.innerHTML,
      e = t.split(" ");
    this.textToAnimate.innerHTML = " ", $.each(e, function(t, e) {
      $("#text-intro").append($('<span class="text-elem">').text(e + "Â "))
    })
  }, TextAnimate.prototype.secondaryFade = function(t) {
    t.classList.add("secondary-show")
  },
  function() {
    function t() {}

    function e(t, e) {
      for (var n = t.length; n--;)
        if (t[n].listener === e) return n;
      return -1
    }

    function n(t) {
      return function() {
        return this[t].apply(this, arguments)
      }
    }
    var i = t.prototype,
      o = this,
      s = o.EventEmitter;
    i.getListeners = function(t) {
      var e, n, i = this._getEvents();
      if ("object" == typeof t) {
        e = {};
        for (n in i) i.hasOwnProperty(n) && t.test(n) && (e[n] = i[n])
      } else e = i[t] || (i[t] = []);
      return e
    }, i.flattenListeners = function(t) {
      var e, n = [];
      for (e = 0; t.length > e; e += 1) n.push(t[e].listener);
      return n
    }, i.getListenersAsObject = function(t) {
      var e, n = this.getListeners(t);
      return n instanceof Array && (e = {}, e[t] = n), e || n
    }, i.addListener = function(t, n) {
      var i, o = this.getListenersAsObject(t),
        s = "object" == typeof n;
      for (i in o) o.hasOwnProperty(i) && -1 === e(o[i], n) && o[i].push(s ? n : {
        listener: n,
        once: !1
      });
      return this
    }, i.on = n("addListener"), i.addOnceListener = function(t, e) {
      return this.addListener(t, {
        listener: e,
        once: !0
      })
    }, i.once = n("addOnceListener"), i.defineEvent = function(t) {
      return this.getListeners(t), this
    }, i.defineEvents = function(t) {
      for (var e = 0; t.length > e; e += 1) this.defineEvent(t[e]);
      return this
    }, i.removeListener = function(t, n) {
      var i, o, s = this.getListenersAsObject(t);
      for (o in s) s.hasOwnProperty(o) && -1 !== (i = e(s[o], n)) && s[o].splice(i, 1);
      return this
    }, i.off = n("removeListener"), i.addListeners = function(t, e) {
      return this.manipulateListeners(!1, t, e)
    }, i.removeListeners = function(t, e) {
      return this.manipulateListeners(!0, t, e)
    }, i.manipulateListeners = function(t, e, n) {
      var i, o, s = t ? this.removeListener : this.addListener,
        r = t ? this.removeListeners : this.addListeners;
      if ("object" != typeof e || e instanceof RegExp)
        for (i = n.length; i--;) s.call(this, e, n[i]);
      else
        for (i in e) e.hasOwnProperty(i) && (o = e[i]) && ("function" == typeof o ? s.call(this, i, o) : r.call(this, i, o));
      return this
    }, i.removeEvent = function(t) {
      var e, n = typeof t,
        i = this._getEvents();
      if ("string" === n) delete i[t];
      else if ("object" === n)
        for (e in i) i.hasOwnProperty(e) && t.test(e) && delete i[e];
      else delete this._events;
      return this
    }, i.removeAllListeners = n("removeEvent"), i.emitEvent = function(t, e) {
      var n, i, o, s = this.getListenersAsObject(t);
      for (o in s)
        if (s.hasOwnProperty(o))
          for (i = s[o].length; i--;) n = s[o][i], !0 === n.once && this.removeListener(t, n.listener), n.listener.apply(this, e || []) === this._getOnceReturnValue() && this.removeListener(t, n.listener);
      return this
    }, i.trigger = n("emitEvent"), i.emit = function(t) {
      var e = Array.prototype.slice.call(arguments, 1);
      return this.emitEvent(t, e)
    }, i.setOnceReturnValue = function(t) {
      return this._onceReturnValue = t, this
    }, i._getOnceReturnValue = function() {
      return !this.hasOwnProperty("_onceReturnValue") || this._onceReturnValue
    }, i._getEvents = function() {
      return this._events || (this._events = {})
    }, t.noConflict = function() {
      return o.EventEmitter = s, t
    }, "function" == typeof define && define.amd ? define("eventEmitter/EventEmitter", [], function() {
      return t
    }) : "object" == typeof module && module.exports ? module.exports = t : this.EventEmitter = t
  }.call(this),
  function(t) {
    function e(e) {
      var n = t.event;
      return n.target = n.target || n.srcElement || e, n
    }
    var n = document.documentElement,
      i = function() {};
    n.addEventListener ? i = function(t, e, n) {
      t.addEventListener(e, n, !1)
    } : n.attachEvent && (i = function(t, n, i) {
      t[n + i] = i.handleEvent ? function() {
        var n = e(t);
        i.handleEvent.call(i, n)
      } : function() {
        var n = e(t);
        i.call(t, n)
      }, t.attachEvent("on" + n, t[n + i])
    });
    var o = function() {};
    n.removeEventListener ? o = function(t, e, n) {
      t.removeEventListener(e, n, !1)
    } : n.detachEvent && (o = function(t, e, n) {
      t.detachEvent("on" + e, t[e + n]);
      try {
        delete t[e + n]
      } catch (i) {
        t[e + n] = void 0
      }
    });
    var s = {
      bind: i,
      unbind: o
    };
    "function" == typeof define && define.amd ? define("eventie/eventie", s) : t.eventie = s
  }(this),
  function(t, e) {
    "function" == typeof define && define.amd ? define(["eventEmitter/EventEmitter", "eventie/eventie"], function(n, i) {
      return e(t, n, i)
    }) : "object" == typeof exports ? module.exports = e(t, require("eventEmitter"), require("eventie")) : t.imagesLoaded = e(t, t.EventEmitter, t.eventie)
  }(this, function(t, e, n) {
    function i(t, e) {
      for (var n in e) t[n] = e[n];
      return t
    }

    function o(t) {
      return "[object Array]" === h.call(t)
    }

    function s(t) {
      var e = [];
      if (o(t)) e = t;
      else if ("number" == typeof t.length)
        for (var n = 0, i = t.length; i > n; n++) e.push(t[n]);
      else e.push(t);
      return e
    }

    function r(t, e, n) {
      if (!(this instanceof r)) return new r(t, e);
      "string" == typeof t && (t = document.querySelectorAll(t)), this.elements = s(t), this.options = i({}, this.options), "function" == typeof e ? n = e : i(this.options, e), n && this.on("always", n), this.getImages(), c && (this.jqDeferred = new c.Deferred);
      var o = this;
      setTimeout(function() {
        o.check()
      })
    }

    function a(t) {
      this.img = t
    }

    function l(t) {
      this.src = t, f[t] = this
    }
    var c = t.jQuery,
      d = t.console,
      u = void 0 !== d,
      h = Object.prototype.toString;
    r.prototype = new e, r.prototype.options = {}, r.prototype.getImages = function() {
      this.images = [];
      for (var t = 0, e = this.elements.length; e > t; t++) {
        var n = this.elements[t];
        "IMG" === n.nodeName && this.addImage(n);
        var i = n.nodeType;
        if (i && (1 === i || 9 === i || 11 === i))
          for (var o = n.querySelectorAll("img"), s = 0, r = o.length; r > s; s++) {
            var a = o[s];
            this.addImage(a)
          }
      }
    }, r.prototype.addImage = function(t) {
      var e = new a(t);
      this.images.push(e)
    }, r.prototype.check = function() {
      function t(t, o) {
        return e.options.debug && u && d.log("confirm", t, o), e.progress(t), n++, n === i && e.complete(), !0
      }
      var e = this,
        n = 0,
        i = this.images.length;
      if (this.hasAnyBroken = !1, !i) return void this.complete();
      for (var o = 0; i > o; o++) {
        var s = this.images[o];
        s.on("confirm", t), s.check()
      }
    }, r.prototype.progress = function(t) {
      this.hasAnyBroken = this.hasAnyBroken || !t.isLoaded;
      var e = this;
      setTimeout(function() {
        e.emit("progress", e, t), e.jqDeferred && e.jqDeferred.notify && e.jqDeferred.notify(e, t)
      })
    }, r.prototype.complete = function() {
      var t = this.hasAnyBroken ? "fail" : "done";
      this.isComplete = !0;
      var e = this;
      setTimeout(function() {
        if (e.emit(t, e), e.emit("always", e), e.jqDeferred) {
          var n = e.hasAnyBroken ? "reject" : "resolve";
          e.jqDeferred[n](e)
        }
      })
    }, c && (c.fn.imagesLoaded = function(t, e) {
      return new r(this, t, e).jqDeferred.promise(c(this))
    }), a.prototype = new e, a.prototype.check = function() {
      var t = f[this.img.src] || new l(this.img.src);
      if (t.isConfirmed) return void this.confirm(t.isLoaded, "cached was confirmed");
      if (this.img.complete && void 0 !== this.img.naturalWidth) return void this.confirm(0 !== this.img.naturalWidth, "naturalWidth");
      var e = this;
      t.on("confirm", function(t, n) {
        return e.confirm(t.isLoaded, n), !0
      }), t.check()
    }, a.prototype.confirm = function(t, e) {
      this.isLoaded = t, this.emit("confirm", this, e)
    };
    var f = {};
    return l.prototype = new e, l.prototype.check = function() {
      if (!this.isChecked) {
        var t = new Image;
        n.bind(t, "load", this), n.bind(t, "error", this), t.src = this.src, this.isChecked = !0
      }
    }, l.prototype.handleEvent = function(t) {
      var e = "on" + t.type;
      this[e] && this[e](t)
    }, l.prototype.onload = function(t) {
      this.confirm(!0, "onload"), this.unbindProxyEvents(t)
    }, l.prototype.onerror = function(t) {
      this.confirm(!1, "onerror"), this.unbindProxyEvents(t)
    }, l.prototype.confirm = function(t, e) {
      this.isConfirmed = !0, this.isLoaded = t, this.emit("confirm", this, e)
    }, l.prototype.unbindProxyEvents = function(t) {
      n.unbind(t.target, "load", this), n.unbind(t.target, "error", this)
    }, r
  });

$(function() {
  var n = $(".page-skipLink");
  $(window).on("keydown", function(e) {
    9 === (e.keyCode || e.which) && (n.css({
      top: 0
    }), setTimeout(function() {
      n.css({
        top: "-2em"
      })
    }, 3500))
  })
});


// Cookie Helpers
// create cookie, read cookie https://www.quirksmode.org/js/cookies.html
function createCookie(e, n, o) {
  var t;
  if (o) {
    var r = new Date;
    r.setTime(r.getTime() + 24 * o * 60 * 60 * 1e3), t = "; expires=" + r.toUTCString()
  } else t = "";
  document.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(n) + t + "; path=/"
}

function readCookie(e) {
  for (var n = encodeURIComponent(e) + "=", o = document.cookie.split(";"), t = 0; t < o.length; t++) {
    for (var r = o[t];
      " " === r.charAt(0);) r = r.substring(1, r.length);
    if (0 === r.indexOf(n)) return decodeURIComponent(r.substring(n.length, r.length))
  }
  return null
}

/// GDRP Warning
$(document).ready(function() {

  if (readCookie('gdpr') === null) {
    setTimeout(function() {
      var $warning = $('.cookie-warning');
      $('.cookie-accept').on('click', function() {
        $warning.animate({
          opacity: 0
        }, function() {
          $warning.css({
            display: 'none'
          });
        });
      });
      $warning.css({
        display: 'block'
      }).animate({
        opacity: 1
      });
      createCookie('gdpr', true, 9999);
    }, 2500);
  }

  // map embed shader
  $('.embed-shader').on('click', function(){
    $('.embed-shader').hide();
  });

});

// Conference Overlay

$(function(){

  var $overlay = $('.conference-overlay');
  var $page = $('.conference-page');
  var $shader = $overlay.find('.shader');
  var delay = 3800;
  if ($overlay.length && !$page.length && readCookie('nape-conference') === null) {
    setTimeout(function(){
      $shader.animate({opacity: 0.6}, 650);
      // $overlay.find('.inner').css({opacity: 0.01});
      setTimeout(function(){
        $overlay.find('.inner').animate({opacity: 1}, 450);
      }, 200);
      $overlay.find('.close').add($shader).on('click', function(){
        $overlay.hide().css('display', 'none');
      });
      createCookie('nape-conference', true, 9999);
    }, delay);
  } else {
    $overlay.hide().css('display', 'none');
  }

});
